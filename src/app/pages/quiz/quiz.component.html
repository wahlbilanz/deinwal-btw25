<div class="p-4 bg-white shadow-lg drop-shadow-lg rounded">
  <div class="mb-4 flex justify-end">
    <a
      [routerLink]="['/quiz', kategorie()]"
      class="kategorie text-2xl hover:underline text-zinc-500"
      >{{kategorie()}}</a
    >
  </div>
  @for (frage of fragen(); track frage.abstimmungs_id) {
  <div class="mb-6 p-4 border border-stone-400 rounded bg-stone-50">
    <div class="mb-2">{{frage.hintergrund}} <span class="font-bold">{{ frage.frage }}</span></div>
    <div class="mb-4">
      <ul class="list-disc list-inside">
        @for (info of frage.weiterfuehrende_informationen; track $index) {
        <li>
          @if (info.link) {
          <a href="{{info.link}}" target="_blank" class="text-blue-500 hover:underline"
            >{{info.text || info.link}}</a
          >
          } @else { {{info.text}} }
        </li>
        }
      </ul>
    </div>
    <div class="flex space-x-2 justify-end">
      <button
        type="button"
        (click)="antwort(frage.abstimmungs_id, 1)"
        class="px-4 py-2 border-2 border-emerald-500 drop-shadow bg-emerald-100 text-black rounded hover:bg-emerald-500 hover:text-white flex items-center gap-1"
      >
        <la-icon icon="thumbs-up" class="text-xl"></la-icon> Ja
      </button>
      <button
        type="button"
        (click)="antwort(frage.abstimmungs_id, -1)"
        class="px-4 py-2 border-2 border-purple-500 drop-shadow bg-purple-200 text-black rounded hover:bg-purple-500 hover:text-white flex items-center gap-1"
      >
        <la-icon icon="thumbs-down" class="text-xl"></la-icon> Nein
      </button>
      <button
        type="button"
        (click)="antwort(frage.abstimmungs_id, 0)"
        class="px-4 py-2 border-2 border-gray-500 drop-shadow bg-gray-200 text-black rounded hover:bg-gray-500 hover:text-white flex items-center gap-1"
      >
        <la-icon icon="yin-yang" class="text-xl"></la-icon> Enthalten
      </button>
    </div>
  </div>

  } @empty {
  <div class="p-4 bg-yellow-100 border border-yellow-300 rounded-lg">
    <p class="mb-2">Ohje. In dieser Kategorie sind keine Fragen.. Und nun? ðŸ˜¬</p>
    <p>
      Willst du vielleicht
      <a
        [routerLink]="'/'"
        class="underline decoration-2 decoration-primary text-blue-500 hover:underline"
      >
        zurÃ¼ck zum Start
      </a>
      oder
      <a
        [routerLink]="['/quiz', ersteKategorie]"
        class="underline decoration-2 decoration-primary text-blue-500 hover:underline"
      >
        zur ersten Quiz Kategorie
      </a>
      gehen?
    </p>
  </div>
  }

  <div class="mb-6 p-4 flex justify-between">
    @if (prevKategorie()) {
    <a
      [routerLink]="['/quiz/', prevKategorie()]"
      class="hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow"
    >
      <la-icon icon="angle-left"></la-icon> {{prevKategorie()}}
    </a>
    } @else {
    <a
      [routerLink]="['/home']"
      class="hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow"
    >
      <la-icon icon="angle-left"></la-icon> Startseite
    </a>
    }

    <a
      [routerLink]="['/auswertung']"
      class="hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow"
    >
      <la-icon icon="chart-bar"></la-icon> Auswertung
    </a>

    @if (nextKategorie()) {
    <a
      [routerLink]="['/quiz/', nextKategorie()]"
      class="hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow"
    >
      {{nextKategorie()}} <la-icon icon="angle-right"></la-icon>
    </a>
    }
  </div>
</div>
